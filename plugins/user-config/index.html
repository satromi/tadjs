<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ユーザ環境設定</title>
    <link rel="stylesheet" href="../../tadjs-desktop.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="user-config-dialog">
        <div class="tab-container">
            <div class="tab-header">
                <div class="tab active" data-tab="personal">個人属性</div>
                <div class="tab" data-tab="pd">PD属性</div>
                <div class="tab" data-tab="key">キー属性</div>
                <div class="tab" data-tab="display">表示属性</div>
                <div class="tab" data-tab="sound">音属性</div>
                <div class="tab" data-tab="keyop">キー操作</div>
            </div>
            <div class="tab-content">
                <div class="tab-panel active" id="personal-panel">
                    <div class="config-section">
                        <div class="config-item">
                            <label>使用者：</label>
                            <input type="text" class="config-input" id="username" value="TRON User" />
                        </div>
                        <div class="config-item">
                            <label>データ配置フォルダ：</label>
                            <div class="folder-selector">
                                <button class="config-button" id="select-folder-button">フォルダを選択</button>
                                <div class="folder-path-display" id="folder-path-display">
                                    未設定
                                </div>
                            </div>
                        </div>
                        <div class="config-item">
                            <label>漢字変換：</label>
                            <button class="config-button" id="kana-kanji-button">かな漢字変換設定</button>
                        </div>
                        <div class="config-item">
                            <label>現在時刻：</label>
                            <span class="config-value" id="current-time"></span>
                        </div>
                    </div>
                </div>
                <div class="tab-panel" id="pd-panel">
                    <div class="config-section">
                        <p>PD属性の設定項目は未実装です。</p>
                    </div>
                </div>
                <div class="tab-panel" id="key-panel">
                    <div class="config-section">
                        <p>キー属性の設定項目は未実装です。</p>
                    </div>
                </div>
                <div class="tab-panel" id="display-panel">
                    <div class="config-section">
                        <!-- スライドバー設定項目 -->
                        <div class="config-item-slider">
                            <label>タイトル文字サイズ：</label>
                            <span class="slider-label">小</span>
                            <input type="range" class="config-slider" id="title-font-size" min="10" max="24" value="14" step="1">
                            <span class="slider-label">大</span>
                            <input type="number" class="config-number" id="title-font-size-num" min="10" max="24" value="14">
                        </div>
                        <div class="config-item-slider">
                            <label>スクロールバー幅：</label>
                            <span class="slider-label">小</span>
                            <input type="range" class="config-slider" id="scrollbar-width" min="8" max="20" value="12" step="1">
                            <span class="slider-label">大</span>
                            <input type="number" class="config-number" id="scrollbar-width-num" min="8" max="20" value="12">
                        </div>
                        <div class="config-item-slider">
                            <label>メニュー文字サイズ：</label>
                            <span class="slider-label">小</span>
                            <input type="range" class="config-slider" id="menu-font-size" min="10" max="20" value="14" step="1">
                            <span class="slider-label">大</span>
                            <input type="number" class="config-number" id="menu-font-size-num" min="10" max="20" value="14">
                        </div>
                        <div class="config-item-slider">
                            <label>カーソル点滅間隔：</label>
                            <span class="slider-label">短</span>
                            <input type="range" class="config-slider" id="cursor-blink" min="300" max="1500" value="800" step="100">
                            <span class="slider-label">長</span>
                            <input type="number" class="config-number" id="cursor-blink-num" min="300" max="1500" value="800" step="100">
                        </div>
                        <div class="config-item-slider">
                            <label>選択枠チラつき間隔：</label>
                            <span class="slider-label">短</span>
                            <input type="range" class="config-slider" id="selection-blink" min="300" max="1500" value="600" step="100">
                            <span class="slider-label">長</span>
                            <input type="number" class="config-number" id="selection-blink-num" min="300" max="1500" value="600" step="100">
                        </div>
                        <div class="config-item-slider">
                            <label>メニュー反応時間：</label>
                            <span class="slider-label">短</span>
                            <input type="range" class="config-slider" id="menu-delay" min="0" max="1000" value="200" step="50">
                            <span class="slider-label">長</span>
                            <input type="number" class="config-number" id="menu-delay-num" min="0" max="1000" value="200" step="50">
                        </div>

                        <!-- ラジオボタン選択項目 -->
                        <div class="config-item-radio">
                            <label>カーソル太さ：</label>
                            <div class="radio-group-inline">
                                <label class="radio-label">
                                    <input type="radio" name="cursor-width" value="1" checked>
                                    <span class="radio-indicator"></span>
                                    <span>細</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="cursor-width" value="2">
                                    <span class="radio-indicator"></span>
                                    <span>中</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="cursor-width" value="3">
                                    <span class="radio-indicator"></span>
                                    <span>太</span>
                                </label>
                            </div>
                        </div>
                        <div class="config-item-radio">
                            <label>ポインタ表示サイズ：</label>
                            <div class="radio-group-inline">
                                <label class="radio-label">
                                    <input type="radio" name="pointer-size" value="small" checked>
                                    <span class="radio-indicator"></span>
                                    <span>小</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="pointer-size" value="medium">
                                    <span class="radio-indicator"></span>
                                    <span>中</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="pointer-size" value="large">
                                    <span class="radio-indicator"></span>
                                    <span>大</span>
                                </label>
                            </div>
                        </div>
                        <div class="config-item-radio">
                            <label>選択枠太さ：</label>
                            <div class="radio-group-inline">
                                <label class="radio-label">
                                    <input type="radio" name="selection-width" value="1" checked>
                                    <span class="radio-indicator"></span>
                                    <span>細</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="selection-width" value="2">
                                    <span class="radio-indicator"></span>
                                    <span>中</span>
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="selection-width" value="3">
                                    <span class="radio-indicator"></span>
                                    <span>太</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="tab-panel" id="sound-panel">
                    <div class="config-section">
                        <p>音属性の設定項目は未実装です。</p>
                    </div>
                </div>
                <div class="tab-panel" id="keyop-panel">
                    <div class="config-section">
                        <p>キー操作の設定項目は未実装です。</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="dialog-buttons">
            <button class="dialog-button" id="apply-button">適用</button>
            <button class="dialog-button" id="cancel-button">キャンセル</button>
        </div>
    </div>

    <!-- ロガーをグローバル変数として読み込み（最初に読み込む必要がある） -->
    <script type="module">
        import { getLogger, LogLevel, logManager } from '../../js/logger.js';
        window.getLogger = getLogger;
        window.LogLevel = LogLevel;
        window.logManager = logManager;
    </script>
    <!-- メッセージバスをグローバル変数として読み込み -->
    <script type="module">
        import { MessageBus } from '../../js/message-bus.js';
        window.MessageBus = MessageBus;
    </script>
    <!-- PluginBaseをグローバル変数として読み込み -->
    <script type="module">
        import { PluginBase } from '../../js/plugin-base.js';
        window.PluginBase = PluginBase;
    </script>
    <script type="module" src="app.js"></script>
</body>
</html>