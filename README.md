# TADjs

ダウンロード： [TADjs Desktop Ver0.35](https://github.com/satromi/tadjs/releases/tag/Ver0.35 "TADjs Desktop Ver0.35 Release")

satromi@gmai.com

## 紹介

BTRONはファイルシステムから実身/仮身という形でハイパーテキストを活用でき、さらにTADというデータフォーマットを用いることで文章/画像といったデータを混在できるように統一できるようにしたのが特徴です。

TADjsはBTRONユーザが継続的に実身/仮身、TADを活用していくために、ブラウザ上でBTRONの特徴である実身仮身構造を再現して、BTRONの文章/画像ファイルであるTADの表示・編集が可能なツールを目指しています。

## 使い方（今のところの）

お使いのコンピュータのどこかのフォルダにファイル（index.html, tad.js, lh5.js, ./lib/encoding.min.js）を配置してください。

ブラウザでindex.htmlを開いて「ファイル選択」ボタンを押下してTADファイルを選択すると、TAD文章/画像ファイルが表示できます。

※TADファイルを描画領域にドラッグアンドドロップしても同様に動作します。

書庫形式で複数TADファイルが圧縮されている場合、タブ切り替えで複数のTADを表示できます。表示領域上部の「Tab N」ボタンを押下してください。

タブ一覧がページの横幅で収まらない場合、スクロールボタンが左右に表示されます。また、タブボタンをドラッグするとスクロールできます。

※デフォルト表示は（Tab 1）

書庫形式である実身内に仮身セグメントがある場合、仮身をクリックするとリンク先の実身に飛ぶことができます。

## 更新履歴

### Ver0.35

- 仮身一覧プラグインの機能を追加しました。
  - 仮身をドラッグしてウインドウ範囲外にスクロールして仮身を配置できる機能を追加
- 基本文章編集プラグインの機能を追加しました。
  - 実時間制御TAD仕様に対応してアニメーション、動画再生する機能を追加
- 基本図形編集プラグインの機能を追加しました。
  - 実時間制御TAD仕様に対応してアニメーション、動画再生する機能を追加
- スライドプラグインの機能を追加しました。
  - 実時間制御TAD仕様に対応してアニメーション、動画再生する機能を追加
- 生成的実身テストプラグインの機能を追加しました。
  - テスト機能として、生成的実身としてClaude Codeのclaude.exeを呼び出し、実身記載の指示を元に文章xmlTAD実身を生成する機能を追加
- 仮身一覧プラグインの下記の不具合を修正しました。
  - 仮身を閉じた仮身から開いた仮身、開いた仮身から閉じた仮身に変更した際に選択できなくなる不具合を修正
  - 開いた仮身判定の閾値を修正
  - 仮身属性変更の機能で背景色変更していても反映されない不具合を修正
  - 仮身選択時の青枠描画の不具合を修正
  - 仮身サイズ計算、仮身選択・リサイズ時のサイズ計算の不具合を修正
- 基本文章編集プラグインの下記の不具合を修正しました。
  - Ctrl+V動作の不具合を修正
- 基本図形編集プラグインの下記の不具合を修正しました。
  - 開いた仮身表示する際に、仮身属性で表示領域背景の色を設定していても反映されない不具合を修正
- 書庫解凍プラグインの下記の不具合を修正しました。
  - TADのパースに失敗するエラーを修正
  - 画像ファイルの変換に失敗する不具合を修正
- 仮身ネットワークプラグインの下記の不具合を修正しました。
  - グラフ表示で全体、スクロール位置、ズームが悪かったので修正
  - グラフ表示で選択した仮身に関連する仮身も含めてノード位置を調整できるように修正

### 以前の更新

[CHANGELOG.md](CHANGELOG.md) を参照

## 【既知のバグ】TADjs（TADjs Desktopではなく）

- 全般
  - 複数ページ表示している場合に、スクロールバーが1タブ目にだけ表示されてしまう。
  - リロードしないと新たなファイルを開けない場合がある。
- 文章TAD
  - 文字描写のベースラインが上側指定になっているので行中でフォントサイズを変えると上に表示される
  - 折り返し位置がハードコーディングでウインドウサイズを変えても変わらない。
- 画像TAD
  - マスクデータ定義で不具合があるため、塗りつぶしのマスクパターン描画がおかしい。
  - 画像セグメントの色が微妙におかしい（白のはずが若干灰色、青みがかっている）
  - 線種定義セグメントの線種の再現度が低い

## 未対応セグメント

- 共通
  - 機能付箋セグメント
  - 設定付箋セグメント（Unofficial TAD Guide Bookにて非推奨）
- 文章TAD
  - 用紙指定付箋（xmlTAD側のみ対応）
  - マージン指定付箋（xmlTAD側のみ対応）
  - コラム指定付箋
  - 用紙オーバーレイ定義付箋
  - 用紙オーバーレイ指定付箋
  - 枠あけ指定付箋
  - ページ番号指定付箋
  - 条件改ページ指定付箋
  - 充填行指定付箋
  - 行間隔指定付箋（のベースライン対応）
  - 行揃え指定付箋（のうち、両端揃え、均等揃え）
  - タブ書式指定付箋
  - フィールド書式指定付箋
  - 文字方向指定付箋
  - フォント指定付箋（簡易的に対応）
  - 文字拡大/縮小指定付箋
  - 文字間隔指定付箋（のうちカーニング）
  - 文字回転指定付箋（Unofficial TAD Guide Bookにて非推奨）
  - 文字基準位置移動付箋（Unofficial TAD Guide Bookにて非推奨）
  - 充填文字指定付箋
  - 文字罫線指定付箋（Unofficial TAD Guide Bookにて非推奨）
  - 結合開始指定付箋
  - 結合終了指定付箋
  - 文字割付開始指定付箋
  - 文字割付終了指定付箋
  - 添字開始指定付箋（xmlTAD側のみ対応）
  - 添字終了指定付箋（xmlTAD側のみ対応）
  - 行頭禁則指定付箋（一部不具合）
  - 行末禁則指定付箋（一部不具合）
  - 変数参照指定付箋（Unofficial TAD Guide Bookにて非推奨）
  - 文章アプリケーション指定付箋
- 図形TAD
  - 図形要素セグメント全般で直接描画（0:STORE）以外は非対応（Unofficial TAD Guide Bookにて0:STORE以外は非推奨）
  - マーカー列セグメント
  - 任意図形セグメント
  - カラーマップ定義セグメント
  - 線種定義セグメント（の長さが正しくない）
  - マーカー定義セグメント
  - グループ開始セグメント
  - グループ終了セグメント
  - マクロ定義開始セグメント（Unofficial TAD Guide Bookによると実装例なし）
  - マクロ定義終了セグメント（Unofficial TAD Guide Bookによると実装例なし）
  - マクロ参照セグメント
  - 図形要素装飾セグメント
  - 座標変換セグメント
  - 用紙指定付箋
  - マージン指定付箋
  - 用紙オーバーレイ定義付箋
  - 用紙オーバーレイ指定付箋
  - ページ番号指定付箋
  - 図形アプリケーション指定付箋

## サンプル文章について

BTRON Clubで報告した内容を共有しています。

TADjs by satromi is licensed under the Apache License, Version2.0
